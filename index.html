<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>PROJECT WITH FREE SOURCE CODE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <style>
    :root{
      --bg: #05060a;
      --text: #e6f7ff;
      --muted: #9bb3c7;
      --neon1: #00e5ff;
      --neon2: #ff1aff;
      --accent: #30f8a1;
      --radius: 12px;
      --glow-strong: 0 0 8px rgba(0,229,255,.7), 0 0 20px rgba(255,26,255,.45);
      --glow-soft: 0 0 8px rgba(0,229,255,.3), 0 0 16px rgba(255,26,255,.2);
    }
    *{ box-sizing:border-box; margin:0; padding:0; }
    html, body{ height:100%; }
    body{
      background: radial-gradient(1200px 600px at 10% -10%, rgba(0,229,255,.08), transparent 60%),
                  radial-gradient(1000px 500px at 90% 110%, rgba(255,26,255,.08), transparent 60%),
                  var(--bg);
      color:var(--text);
      font: 500 clamp(13px, 2.5vw, 15px)/1.4 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      letter-spacing:.2px;
      overflow-x: hidden;
    }

    /* Reserved top navigation space */
    .nav-placeholder{
      position: sticky; top:0; z-index:100;
      height: clamp(56px, 12vw, 64px);
      backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(5,6,10,.75), rgba(5,6,10,.35));
      border-bottom: 1px solid rgba(0,229,255,.2);
      box-shadow: 0 8px 24px rgba(0,0,0,.4);
    }

    .page{
      max-width: 1200px;
      margin: 0 auto;
      padding: clamp(12px, 3vw, 18px) clamp(8px, 2vw, 16px) 88px;
    }

    h1{
      margin: clamp(12px, 3vw, 16px) 0 4px;
      font-size: clamp(18px, 4.5vw, 32px);
      font-weight: 900;
      line-height: 1.1;
      color:#eafcff;
      text-transform: uppercase;
      letter-spacing: clamp(0.5px, 0.15vw, 1px);
      text-shadow: 0 0 6px rgba(0,229,255,.7), 0 0 16px rgba(255,26,255,.5);
    }
    .subtitle{
      margin: 0 0 clamp(10px, 2.5vw, 16px);
      font-size: clamp(10px, 2.2vw, 12px);
      color: var(--muted);
      font-variant-caps: small-caps;
      letter-spacing: .5px;
    }

    /* Strict 2-column grid, compact sizing */
    .projects{
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: clamp(8px, 2vw, 12px);
    }

    /* Ultra-compact neon card */
    .card{
      position: relative;
      overflow: hidden;
      border-radius: var(--radius);
      background:
        radial-gradient(120% 80% at 120% -20%, rgba(255,26,255,.1), transparent 60%),
        radial-gradient(100% 90% at -20% 120%, rgba(0,229,255,.1), transparent 60%),
        linear-gradient(180deg, rgba(20,24,36,.88), rgba(9,12,22,.88));
      border: 1px solid rgba(0,229,255,.2);
      box-shadow:
        0 0 0 1px rgba(255,26,255,.1) inset,
        0 8px 20px rgba(0,0,0,.4),
        0 0 16px rgba(0,229,255,.12),
        0 0 24px rgba(255,26,255,.1);
      transition: transform .22s ease, box-shadow .22s ease;
      will-change: transform;
    }
    .card:hover{
      transform: translateY(-2px);
      box-shadow:
        0 0 0 1px rgba(255,26,255,.16) inset,
        0 10px 28px rgba(0,0,0,.5),
        0 0 20px rgba(0,229,255,.2),
        0 0 32px rgba(255,26,255,.16);
    }

    .thumb{
      aspect-ratio: 1.6 / 1;
      width: 100%;
      overflow: hidden;
      border-top-left-radius: calc(var(--radius) - 1px);
      border-top-right-radius: calc(var(--radius) - 1px);
      border-bottom: 1px solid rgba(0,229,255,.18);
      background:
        repeating-linear-gradient(90deg, rgba(0,229,255,.05) 0 2px, transparent 2px 8px),
        repeating-linear-gradient( 0deg, rgba(255,26,255,.05) 0 2px, transparent 2px 8px),
        #0a0f19;
      position: relative;
    }
    .thumb img{
      width:100%; height:100%; object-fit:cover; display:block;
      filter: saturate(1.05) contrast(1.02);
    }

    .badge{
      position: absolute;
      top: clamp(6px, 1.5vw, 8px);
      left: clamp(6px, 1.5vw, 8px);
      padding: clamp(4px, 1vw, 6px) clamp(7px, 1.8vw, 9px);
      border-radius: 999px;
      font-size: clamp(9px, 2vw, 10px);
      font-weight: 900;
      letter-spacing: .5px;
      font-variant-caps: all-small-caps;
      backdrop-filter: blur(4px);
      border: 1px solid;
      box-shadow: var(--glow-soft);
      white-space: nowrap;
    }
    .badge.free{
      color: #d9fff2;
      background: linear-gradient(180deg, rgba(48,248,161,.2), rgba(0,229,255,.1));
      border-color: rgba(48,248,161,.4);
    }
    .badge.paid{
      color: #ffe6ff;
      background: linear-gradient(180deg, rgba(255,26,255,.16), rgba(0,229,255,.08));
      border-color: rgba(255,26,255,.35);
    }

    .body{
      padding: clamp(8px, 2vw, 10px) clamp(8px, 2vw, 11px) clamp(9px, 2.2vw, 12px);
    }

    .title{
      margin: 0 0 clamp(4px, 1vw, 5px);
      font-size: clamp(12px, 3.2vw, 16px);
      font-weight: 900;
      color: #eafcff;
      text-transform: uppercase;
      text-shadow: 0 0 5px rgba(0,229,255,.4), 0 0 9px rgba(255,26,255,.28);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      letter-spacing: .3px;
    }

    .desc{
      margin: 0 0 clamp(6px, 1.5vw, 8px);
      font-size: clamp(10px, 2.2vw, 11px);
      color: var(--muted);
      line-height: 1.35;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      min-height: clamp(26px, 6vw, 30px);
    }

    .price-row{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: clamp(4px, 1vw, 6px);
      flex-wrap: nowrap;
    }
    .prices{
      display: flex;
      align-items: baseline;
      gap: clamp(4px, 1vw, 6px);
      flex-shrink: 1;
      min-width: 0;
    }
    .price-new{
      font-size: clamp(13px, 3.3vw, 15px);
      font-weight: 900;
      color: var(--accent);
      text-shadow: var(--glow-soft);
      white-space: nowrap;
    }
    .price-old{
      font-size: clamp(10px, 2.3vw, 11px);
      color: #7f93a8;
      text-decoration: line-through;
      opacity: .85;
      white-space: nowrap;
    }

    .cta{
      display: inline-flex;
      align-items: center;
      gap: clamp(4px, 1vw, 6px);
      padding: clamp(6px, 1.5vw, 8px) clamp(9px, 2.2vw, 11px);
      border-radius: 999px;
      border: 1px solid rgba(0,229,255,.35);
      color: #c9faff;
      background: linear-gradient(180deg, rgba(0,229,255,.1), rgba(255,26,255,.1));
      box-shadow: var(--glow-soft);
      text-decoration: none;
      font-size: clamp(9px, 2.2vw, 11px);
      font-weight: 900;
      letter-spacing: .3px;
      transition: filter .2s ease, transform .2s ease;
      cursor: pointer;
      flex-shrink: 0;
      white-space: nowrap;
      font-variant-caps: small-caps;
    }
    .cta:hover{
      filter: brightness(1.12);
      transform: translateY(-1px);
    }
    .cta .dot{
      width: clamp(4px, 1.2vw, 5px);
      height: clamp(4px, 1.2vw, 5px);
      border-radius: 50%;
      background: radial-gradient(circle at 50% 50%, var(--neon1), var(--neon2));
      box-shadow: var(--glow-strong);
      flex-shrink: 0;
    }
    .cta.pay{
      border-color: rgba(255,26,255,.4);
    }

    /* Reserved bottom area */
    .bottom-bar{
      position: fixed;
      bottom: 0; left: 0; right: 0;
      height: clamp(64px, 14vw, 72px);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: clamp(10px, 2.5vw, 14px);
      background: linear-gradient(180deg, rgba(5,6,10,.05), rgba(5,6,10,.88));
      border-top: 1px solid rgba(255,26,255,.2);
      backdrop-filter: blur(8px);
      padding: clamp(8px, 2vw, 12px) clamp(12px, 3vw, 16px);
      box-shadow: 0 -8px 24px rgba(0,0,0,.3);
    }
    .bottom-btn{
      appearance: none;
      border: 1px solid rgba(0,229,255,.4);
      color: #dcf9ff;
      background: linear-gradient(180deg, rgba(0,229,255,.1), rgba(255,26,255,.1));
      border-radius: clamp(10px, 2.5vw, 12px);
      padding: clamp(9px, 2.2vw, 11px) clamp(14px, 3.5vw, 18px);
      font-weight: 900;
      font-size: clamp(11px, 2.7vw, 13px);
      letter-spacing: .4px;
      text-transform: uppercase;
      box-shadow: var(--glow-soft);
      cursor: pointer;
      transition: filter .2s ease;
    }
    .bottom-btn:hover{
      filter: brightness(1.15);
    }

    /* Extra responsive tweaks for very small screens */
    @media (max-width: 360px){
      .projects{ gap: 6px; }
      .card{ border-radius: 10px; }
      .body{ padding: 7px 8px 9px; }
      .desc{ -webkit-line-clamp: 1; min-height: 14px; }
    }

    /* Loading overlay */
    .loading-overlay{
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(5,6,10,.85);
      backdrop-filter: blur(4px);
      z-index: 9999;
      align-items: center;
      justify-content: center;
    }
    .loading-overlay.active{ display: flex; }
    .spinner{
      width: 48px; height: 48px;
      border: 4px solid rgba(0,229,255,.2);
      border-top-color: var(--neon1);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin{
      to{ transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Loading overlay -->
  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner"></div>
  </div>

  <!-- Reserved top navigation space -->
  <nav class="nav-placeholder" aria-label="Reserved navigation area"></nav>

  <main class="page" aria-label="Projects">
    <h1>Project with Free Source Code</h1>
    <p class="subtitle">Ultra-Compact • 2 Per Row • Mobile Optimized</p>

    <section id="projects" class="projects"></section>
  </main>

  <!-- Reserved bottom space for buttons -->
  <footer class="bottom-bar" aria-label="Reserved bottom buttons">
    <button class="bottom-btn" type="button" data-action="prev">◀ Prev</button>
    <button class="bottom-btn" type="button" data-action="next">Next ▶</button>
  </footer>

  <!-- Razorpay Checkout -->
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

  <script>
    // ✅ Your Razorpay Test Key
    const RAZORPAY_KEY = 'rzp_test_RU1OCnC9QDHtJj';

    // Product data: 1-10 FREE, 11-20 PAID
    const PRODUCTS = [
      // FREE PROJECTS (1-10)
      { id:1,  title:'Landing Page', desc:'Modern hero section with animations', price:0, oldPrice:299, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_01' },
      { id:2,  title:'Portfolio Grid', desc:'Responsive portfolio with filters', price:0, oldPrice:399, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_02' },
      { id:3,  title:'E-Commerce Card', desc:'Product card with rating system', price:0, oldPrice:349, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_03' },
      { id:4,  title:'Dashboard UI', desc:'Admin dashboard with widgets', price:0, oldPrice:499, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_04' },
      { id:5,  title:'Login Form', desc:'Animated login with validation', price:0, oldPrice:249, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_05' },
      { id:6,  title:'Pricing Table', desc:'Responsive pricing comparison', price:0, oldPrice:299, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_06' },
      { id:7,  title:'Team Section', desc:'Team members grid layout', price:0, oldPrice:349, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_07' },
      { id:8,  title:'Contact Form', desc:'Form with email integration', price:0, oldPrice:399, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_08' },
      { id:9,  title:'Blog Layout', desc:'Blog page with sidebar', price:0, oldPrice:449, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_09' },
      { id:10, title:'Gallery Grid', desc:'Responsive image gallery', price:0, oldPrice:299, drive:'https://drive.google.com/drive/folders/EXAMPLE_FREE_10' },

      // PAID PROJECTS (11-20)
      { id:11, title:'Restaurant Menu', desc:'Interactive menu with cart', price:149, oldPrice:499, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_11' },
      { id:12, title:'Music Player', desc:'Audio player with playlist', price:199, oldPrice:599, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_12' },
      { id:13, title:'Weather App', desc:'Real-time weather dashboard', price:249, oldPrice:699, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_13' },
      { id:14, title:'Todo App', desc:'Task manager with localStorage', price:299, oldPrice:799, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_14' },
      { id:15, title:'Quiz App', desc:'Interactive quiz with timer', price:349, oldPrice:899, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_15' },
      { id:16, title:'Chat UI', desc:'Real-time chat interface', price:399, oldPrice:999, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_16' },
      { id:17, title:'Video Player', desc:'Custom video player controls', price:449, oldPrice:1099, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_17' },
      { id:18, title:'Social Feed', desc:'Instagram-style social feed', price:499, oldPrice:1199, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_18' },
      { id:19, title:'E-Learning Portal', desc:'Complete course platform', price:549, oldPrice:1399, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_19' },
      { id:20, title:'Booking System', desc:'Appointment booking system', price:599, oldPrice:1499, drive:'https://drive.google.com/drive/folders/EXAMPLE_PAID_20' }
    ];

    const el = document.getElementById('projects');
    const loader = document.getElementById('loadingOverlay');

    function formatINR(n){
      return new Intl.NumberFormat('en-IN', {
        style: 'currency',
        currency: 'INR',
        maximumFractionDigits: 0
      }).format(n);
    }

    function render(){
      el.innerHTML = '';
      for(const p of PRODUCTS){
        const isFree = p.price === 0;
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="thumb">
            <img src="images/${p.id}.png" alt="${p.title} preview" loading="lazy" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22250%22%3E%3Crect width=%22400%22 height=%22250%22 fill=%22%230a0f19%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22monospace%22 font-size=%2220%22 fill=%22%2300e5ff%22%3EProject ${p.id}%3C/text%3E%3C/svg%3E';" />
            <span class="badge ${isFree ? 'free' : 'paid'}">${isFree ? 'FREE' : 'PAID'}</span>
          </div>
          <div class="body">
            <h2 class="title">${p.title}</h2>
            <p class="desc">${p.desc}</p>
            <div class="price-row">
              <div class="prices">
                <span class="price-new">${isFree ? '₹0' : formatINR(p.price)}</span>
                <span class="price-old">${formatINR(p.oldPrice)}</span>
              </div>
              ${isFree
                ? `<a class="cta" href="${p.drive}" target="_blank" rel="noopener" aria-label="Download ${p.title}">
                     <span class="dot"></span>Get Code
                   </a>`
                : `<button class="cta pay" data-id="${p.id}" aria-label="Buy ${p.title}">
                     <span class="dot"></span>Get Code
                   </button>`
              }
            </div>
          </div>
        `;
        el.appendChild(card);
      }
    }
    render();

    // Payment flow for paid items
    function startCheckout(productId){
      const product = PRODUCTS.find(p => p.id === productId);
      if(!product || product.price === 0) return;

      loader.classList.add('active');

      const amountInPaise = product.price * 100; // Convert to paise

      const options = {
        key: RAZORPAY_KEY,
        amount: amountInPaise,
        currency: 'INR',
        name: 'Project Store',
        description: `Purchase ${product.title}`,
        image: 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2260%22 height=%2260%22%3E%3Ccircle cx=%2230%22 cy=%2230%22 r=%2228%22 fill=%22%2330f8a1%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22monospace%22 font-size=%2224%22 fill=%22%2305060a%22 font-weight=%22bold%22%3EP%3C/text%3E%3C/svg%3E',
        theme: {
          color: '#30f8a1',
          backdrop_color: 'rgba(5,6,10,0.9)'
        },
        prefill: {
          name: 'Guest User',
          email: 'user@example.com',
          contact: '+919999999999'
        },
        notes: {
          product_id: productId,
          product_name: product.title
        },
        handler: function(response){
          // ✅ Payment successful
          console.log('Payment Success:', response);
          loader.classList.remove('active');
          
          // Show success message
          alert(`✅ Payment Successful!\n\nPayment ID: ${response.razorpay_payment_id}\n\nRedirecting to download...`);
          
          // Redirect to Drive link
          window.location.href = product.drive;
        },
        modal: {
          ondismiss: function(){
            loader.classList.remove('active');
            console.log('Payment cancelled by user');
          },
          escape: true,
          backdropclose: false,
          confirm_close: true
        }
      };

      try{
        const rzp = new Razorpay(options);
        
        rzp.on('payment.failed', function(response){
          loader.classList.remove('active');
          console.error('Payment Failed:', response.error);
          alert(`❌ Payment Failed\n\n${response.error.description}\n\nReason: ${response.error.reason}`);
        });

        rzp.open();
        loader.classList.remove('active');
      }catch(err){
        loader.classList.remove('active');
        console.error('Checkout Error:', err);
        alert('Unable to open payment gateway. Please try again.');
      }
    }

    // Event delegation for clicks
    document.addEventListener('click', (e) => {
      // Handle paid project buttons
      const payBtn = e.target.closest('.cta.pay');
      if(payBtn){
        e.preventDefault();
        const id = Number(payBtn.getAttribute('data-id'));
        startCheckout(id);
        return;
      }

      // Handle bottom navigation buttons
      const navBtn = e.target.closest('.bottom-btn');
      if(navBtn){
        const action = navBtn.dataset.action;
        console.log('Navigation action:', action);
        // Add your pagination logic here
        alert(`${action.toUpperCase()} button clicked!\n\nAdd your pagination logic here.`);
      }
    });

    // Prevent accidental page refresh during payment
    let paymentInProgress = false;
    window.addEventListener('beforeunload', (e) => {
      if(paymentInProgress){
        e.preventDefault();
        e.returnValue = '';
      }
    });

    // Console welcome message
    console.log('%c🚀 Project Portal Loaded', 'color:#30f8a1;font-size:16px;font-weight:bold');
    console.log('%c📦 20 Projects Ready', 'color:#00e5ff;font-size:14px');
    console.log('%c💳 Razorpay Test Mode Active', 'color:#ff1aff;font-size:14px');
  </script>
</body>
</html>
